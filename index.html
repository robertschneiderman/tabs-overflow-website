<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description">
    <meta name="author">
    <link rel="stylesheet" href="./css/application.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"></script> -->
    <title>Tabs Overflow</title>

</head>    

<body>

    <!-- <h1 class="header-title">Tabs Overflow</h1> -->
  <header class="header none">
    <img class="header-logo" src="./images/svg/logo.svg" alt="">
    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-list-item">Home</li>
        <li class="nav-list-item">Page 2</li>
        <li class="nav-list-item">Page 3</li>
      </ul>
    </nav>
  </header>

  <section class="splash-section fbvc">
    <div class="splash-container fbvc">
      <img class="splash-logo" src="./images/svg/logo.svg" alt="">
      <button class="splash-btn">Download Tabs Overflow Chrome Extension</button>
    </div> 

    <img id="heart" class="icon" src="./icons/svg/heart.svg" alt="">
    <img id="cart" class="icon" src="./icons/svg/commerce.svg" alt="">
    <img id="mail" class="icon" src="./icons/svg/message.svg" alt="">
    <img id="twitter" class="icon" src="./icons/svg/twitter-1.svg" alt="">
    <img id="computer" class="icon" src="./icons/svg/computer.svg" alt="">
    <img id="cursor" class="icon" src="./icons/svg/cursor.svg" alt="">
    <img id="like" class="icon" src="./icons/svg/like.svg" alt="">      
    <img id="planet" class="icon" src="./icons/svg/planet-earth.svg" alt="">      
  </section>
  
  <script>

    const mr = (frm, to) => {
      return Math.floor((Math.random() * to) + frm);
    };
    const randomDirection = (prv, increment) => {
      randX = mr(1, 2);      
      if (randX === 1) {
        return mr(prv, prv - increment);
      } else if (randX === 2) {
        return mr(prv, prv + increment);        
      }
    };     

    let tm = new TimelineMax();
    // let icons = [
    //    ["heart", 10, 0],
    //    ["cart", 10, 0],
    //    ["mail", 10, 1],
    //    ["twitter", 10, 0],
    //    ["computer", 10, 1],
    //    ["cursor", 10, 0],
    //    ["like", 10, 0]
    // ];

    let icons = document.querySelectorAll('.icon');

    icons.forEach(icon => {
      let x1 = mr(-30, 30);
      let x2 = randomDirection(x1, 400);
      let x3 = randomDirection(x2, 800);
      let y1 = mr(-30, 30);
      let y2 = mr(y1, y1 - 200);
      let y3 = mr(y2, y2 - 300);
      let r1 = mr(-30, 30);
      let r2 = mr(r1, r1 + 50);
      let r3 = mr(r2, r2 + 50);
    
      tm.to(document.getElementById(icon[0]), icon[1], {
        bezier: {
          type: "soft",
          values: [
            {x: x1, y: y1, rotation: r1},
            {x: x2, y: y2, rotation: r2},
            {x: x3, y: y3, rotation: r3}
          ],
          autoRotate: false
        },
        ease: Linear.easeNone,
        repeat: -1
      }, `start+=${icon[2]}`);
    });

  </script>

</body>
</html>